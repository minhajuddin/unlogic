	<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.15" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> Capturing smartphone traffic - Part 1 &middot; Unlogic </title>

  
  <link rel="stylesheet" href="http://unlogic.co.ukcss/poole.css">
  <link rel="stylesheet" href="http://unlogic.co.ukcss/syntax.css">
  <link rel="stylesheet" href="http://unlogic.co.ukcss/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://unlogic.co.uk/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="http://unlogic.co.uk/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Unlogic" />
</head>

	<body class="">
		<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://unlogic.co.uk"><h1>Unlogic</h1></a>
      <p class="lead">
      An elegant open source and mobile first theme for <a href="http://hugo.spf13.com">hugo</a> made by <a href="http://twitter.com/mdo">@mdo</a>. Originally made for Jekyll.
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="http://unlogic.co.uk/">Home</a> </li>
      
    </ul>

    <p>Sven Steinbauer</p>
  </div>
</div>


		<div class="content container">
			<div class="post">
			 	<h1>Capturing smartphone traffic - Part 1</h1>
			  <span class="post-date">Fri, May 16, 2014</span>
			      

<p>We all carry phones around that are connected to some of network at all times.
Unless you are the truly paranoid or battery saving type, then there will be periods
when your phone is dark.</p>

<p>But even so, I often wonder what my phone is transmitting when I&rsquo;m not using it,
or even when I am using it. So in this series I plan on doing some investigation
into what goes in and out of my phone.</p>

<p>In this post I&rsquo;ll just set up all the bits and pieces to start the monitoring
process and run a quick check to make sure everything works. In the following
parts I&rsquo;ll be taking a look at some common apps and their network chatter. The
idea is to analyse the data and understand their communications. Hopefully we&rsquo;ll
also unearth some interesting things along the way.</p>

<h2 id="what-we-ll-need:41796c2feda068943018a98e7c373755">What we&rsquo;ll need</h2>

<ul>
<li>A smartphone</li>
<li>A laptop (or similar) to turn into a wireless access point</li>
<li><a href="https://www.wireshark.org/">Wireshark</a> running on that laptop</li>
<li>An internet connection</li>
</ul>

<h2 id="setting-up-the-wireless-access-point:41796c2feda068943018a98e7c373755">Setting up the wireless access point</h2>

<p>I&rsquo;m going to cover how to do this part in OSX for now. If I get round
to it I&rsquo;ll add a Linux way to do it too.</p>

<h3 id="osx:41796c2feda068943018a98e7c373755">OSX</h3>

<p>First connect the laptop to an ethernet connection. You can&rsquo;t be connected to
a wireless network and create a wireless access point at the same time.
So we will connect to the internet via ethernet and use the wireless radio
for the access point. Once the ethernet connection is up and running, open
<em>System Preferences -&gt; Sharing</em>. In the list click on the <em>Internet sharing</em>
entry (not the check box) and select <em>Ethernet</em> in the <em>Share your connection
from</em> dropdown. In the <em>To computers using</em> select <em>Wi-Fi</em>. Now select the
check box next to <em>Internet Sharing</em> to turn sharing on.</p>

<p><a href="http://i.imgur.com/K2Zeyoy.png">
<figure >
    
        <img src="http://i.imgur.com/K2Zeyoy.png" />
    
    
</figure>
</a></p>

<p>If everything went to plan your Wi-Fi indicator should now look like this:</p>

<p><a href="http://i.imgur.com/ecXJUc8.png">
<figure >
    
        <img src="http://i.imgur.com/ecXJUc8.png" />
    
    
</figure>
</a></p>

<h2 id="connect-the-phone:41796c2feda068943018a98e7c373755">Connect the phone</h2>

<p>Now we connect tbe phone to the new access point. Go to your wireless network
settings and select the name of the network we created. <strong>slaptop</strong> in my case.
Once do we need to</p>

<h2 id="start-wireshark:41796c2feda068943018a98e7c373755">Start Wireshark</h2>

<p>Fireup Wireshark and then select the capture interface. The default will be
eth0 usually. That&rsquo;s the ethernet port, but we want to capture traffic on the
wireless access point. So we need to select <em>en1</em> (in my case). It&rsquo;s the one
with the wireless icon next to it.</p>

<p><a href="http://i.imgur.com/9wyI6s6.png">
<figure >
    
        <img src="http://i.imgur.com/9wyI6s6.png" />
    
    
</figure>
</a></p>

<p>Once this is done we&rsquo;ll want to filter out ARP packets as these are of little
interest and there will be quite a few of them. See the screenshot below to
see where to set this.</p>

<p>Now we press the <em>Capture</em> button to begin bapturing traffic. Once running we
can check to see if it&rsquo;s working by browsing to a site. I chose this site at
<code>192.30.252.153</code>. You should see the capture window scroll past with some
traffic going between your phone ip and the site your browsed to.</p>

<p><a href="http://i.imgur.com/XjFuoOQ.png">
<figure >
    
        <img src="http://i.imgur.com/XjFuoOQ.png" />
    
    
</figure>
</a></p>

<h2 id="in-the-next-post:41796c2feda068943018a98e7c373755">In the next post</h2>

<p>So I&rsquo;m all set to capture any and all traffic now that goes to and from my phone.
With this I can now open various apps and see what traffic they generate. In
the next posts I plan to see what idle traffic there is (no apps being actively
used) and what traffic some common apps generate. If I&rsquo;m lucky I might even
discover some interesting things about some apps.</p>

<p>Stay tuned for part 2.</p>

			</div>

			
		</div>

  </body>
</html>
